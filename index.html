<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Kriya — Enterprise Cloud Development Environment</title>
    
    <script src="https://cdn.tailwindcss.com"></script>
    <script defer src="https://unpkg.com/alpinejs@3.x.x/dist/cdn.min.js"></script>
    <script src="https://unpkg.com/@phosphor-icons/web"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/monaco-editor/0.44.0/min/vs/loader.min.js"></script>

    <style>
        @import url('https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700;800;900&family=JetBrains+Mono:wght@300;400;500;600&display=swap');

        * { margin: 0; padding: 0; box-sizing: border-box; }
        
        body {
            background: #000;
            color: #a3a3a3;
            font-family: 'Inter', -apple-system, sans-serif;
            -webkit-font-smoothing: antialiased;
            overflow: hidden;
        }

        .border-line { border: 0.5px solid rgba(255,255,255,0.08); }
        .border-b-line { border-bottom: 0.5px solid rgba(255,255,255,0.08); }
        .border-r-line { border-right: 0.5px solid rgba(255,255,255,0.08); }
        .border-t-line { border-top: 0.5px solid rgba(255,255,255,0.08); }
        
        .glass { 
            background: rgba(0,0,0,0.9);
            backdrop-filter: blur(40px) saturate(180%);
            -webkit-backdrop-filter: blur(40px) saturate(180%);
        }

        .mono { font-family: 'JetBrains Mono', monospace; }
        .label { font-size: 10px; font-weight: 800; text-transform: uppercase; letter-spacing: 0.08em; color: #525252; }
        
        #editor-container { height: 100%; width: 100%; }
        
        .tab-active { color: #fff; background: #0a0a0a; border-bottom: 2px solid #fff; }
        .icon-active { color: #fff; position: relative; }
        .icon-active::after { 
            content: ''; 
            position: absolute; 
            left: -14px; 
            top: 25%; 
            height: 50%; 
            width: 2px; 
            background: #fff; 
        }

        ::-webkit-scrollbar { width: 4px; height: 4px; }
        ::-webkit-scrollbar-track { background: transparent; }
        ::-webkit-scrollbar-thumb { background: #262626; border-radius: 2px; }
        ::-webkit-scrollbar-thumb:hover { background: #404040; }
        
        [x-cloak] { display: none !important; }
        
        .hover-item { transition: all 0.15s ease; }
        .hover-item:hover { background: rgba(255,255,255,0.05); }
        
        .status-indicator {
            width: 6px;
            height: 6px;
            border-radius: 50%;
            background: #fff;
            animation: pulse 2s cubic-bezier(0.4, 0, 0.6, 1) infinite;
        }
        
        @keyframes pulse {
            0%, 100% { opacity: 1; }
            50% { opacity: 0.5; }
        }

        .metric-card {
            background: linear-gradient(135deg, rgba(255,255,255,0.02) 0%, rgba(0,0,0,0.8) 100%);
            border: 0.5px solid rgba(255,255,255,0.08);
            transition: all 0.2s;
        }
        .metric-card:hover {
            border-color: rgba(255,255,255,0.15);
            background: linear-gradient(135deg, rgba(255,255,255,0.04) 0%, rgba(0,0,0,0.9) 100%);
        }

        .btn-primary {
            background: #fff;
            color: #000;
            font-weight: 800;
            font-size: 10px;
            padding: 8px 16px;
            border-radius: 6px;
            border: none;
            cursor: pointer;
            transition: all 0.2s;
            letter-spacing: 0.02em;
        }
        .btn-primary:hover {
            background: #e5e5e5;
            transform: translateY(-1px);
            box-shadow: 0 4px 12px rgba(255,255,255,0.15);
        }

        .btn-secondary {
            background: rgba(255,255,255,0.05);
            color: #fff;
            font-weight: 700;
            font-size: 10px;
            padding: 8px 16px;
            border-radius: 6px;
            border: 0.5px solid rgba(255,255,255,0.1);
            cursor: pointer;
            transition: all 0.2s;
        }
        .btn-secondary:hover {
            background: rgba(255,255,255,0.1);
            border-color: rgba(255,255,255,0.2);
        }

        .input-minimal {
            background: transparent;
            border: 0.5px solid rgba(255,255,255,0.1);
            color: #fff;
            padding: 8px 12px;
            border-radius: 6px;
            font-size: 12px;
            outline: none;
            transition: all 0.2s;
        }
        .input-minimal:focus {
            border-color: #fff;
            background: rgba(255,255,255,0.02);
        }
        .input-minimal::placeholder {
            color: #525252;
        }
    </style>
</head>
<body x-data="kriyaIDE()" @keydown.meta.k.prevent="commandPalette = true">

    <!-- Command Palette -->
    <div x-show="commandPalette" x-cloak class="fixed inset-0 z-[100] flex items-start justify-center pt-[12vh] bg-black/85 backdrop-blur-md">
        <div @click.away="commandPalette = false" class="w-full max-w-2xl glass border-line rounded-xl shadow-2xl overflow-hidden">
            <div class="flex items-center px-6 py-4 gap-4 border-b-line">
                <i class="ph ph-terminal-window text-white text-lg"></i>
                <input 
                    x-model="searchQuery"
                    type="text" 
                    placeholder="Search commands, files, actions..." 
                    class="flex-1 bg-transparent outline-none text-sm text-white"
                    autofocus>
                <kbd class="px-2 py-1 text-[9px] font-bold text-zinc-600 bg-white/5 rounded">⌘K</kbd>
            </div>
            <div class="max-h-96 overflow-y-auto">
                <template x-for="(section, idx) in commandSections" :key="idx">
                    <div>
                        <div class="label px-6 py-3 bg-black/40" x-text="section.title"></div>
                        <template x-for="cmd in section.commands" :key="cmd.id">
                            <div @click="executeCommand(cmd)" class="hover-item flex items-center justify-between px-6 py-3 cursor-pointer">
                                <div class="flex items-center gap-4">
                                    <i :class="cmd.icon" class="text-lg text-white"></i>
                                    <div>
                                        <div class="text-sm font-semibold text-white" x-text="cmd.label"></div>
                                        <div class="text-xs text-zinc-600" x-text="cmd.desc"></div>
                                    </div>
                                </div>
                                <kbd x-show="cmd.key" class="px-2 py-1 text-[9px] font-bold text-zinc-600 bg-white/5 rounded" x-text="cmd.key"></kbd>
                            </div>
                        </template>
                    </div>
                </template>
            </div>
        </div>
    </div>

    <!-- AI Assistant -->
    <div x-show="aiModal" x-cloak class="fixed inset-0 z-[95] flex items-start justify-center pt-[10vh] bg-black/85 backdrop-blur-md">
        <div @click.away="aiModal = false" class="w-full max-w-3xl glass border-line rounded-xl shadow-2xl overflow-hidden">
            <div class="flex items-center px-6 py-4 gap-4 border-b-line">
                <i class="ph-fill ph-sparkle text-white text-xl"></i>
                <input type="text" placeholder="Ask AI: refactor this function for better performance..." class="flex-1 bg-transparent outline-none text-sm text-white placeholder-zinc-700">
            </div>
            <div class="p-6 space-y-3 max-h-[450px] overflow-y-auto">
                <div class="label mb-4">Quick AI Actions</div>
                <template x-for="action in aiQuickActions">
                    <div @click="runAIAction(action)" class="metric-card p-4 rounded-lg cursor-pointer group">
                        <div class="flex items-start justify-between mb-2">
                            <span class="text-sm font-bold text-white group-hover:text-white transition" x-text="action.name"></span>
                            <i :class="action.icon" class="text-zinc-600 group-hover:text-white transition"></i>
                        </div>
                        <div class="text-xs text-zinc-600" x-text="action.description"></div>
                    </div>
                </template>
            </div>
        </div>
    </div>

    <!-- Settings Modal -->
    <div x-show="settingsModal" x-cloak class="fixed inset-0 z-[90] flex items-center justify-center bg-black/85 backdrop-blur-md">
        <div @click.away="settingsModal = false" class="w-full max-w-5xl h-[650px] glass border-line rounded-xl shadow-2xl flex overflow-hidden">
            <div class="w-60 border-r-line bg-black/50 p-4 overflow-y-auto">
                <div class="label mb-4">Settings</div>
                <template x-for="tab in settingsTabs">
                    <button @click="activeSettingsTab = tab.id" 
                         :class="activeSettingsTab === tab.id ? 'bg-white/10 text-white' : 'text-zinc-600 hover:text-white hover:bg-white/5'"
                         class="w-full text-left px-3 py-2.5 rounded-lg text-xs font-semibold transition mb-1 flex items-center gap-3">
                        <i :class="tab.icon" class="text-base"></i>
                        <span x-text="tab.label"></span>
                    </button>
                </template>
            </div>
            <div class="flex-1 p-8 overflow-y-auto">
                <div x-show="activeSettingsTab === 'editor'">
                    <h2 class="text-2xl font-bold text-white mb-8">Editor Configuration</h2>
                    <div class="space-y-6">
                        <div>
                            <label class="block text-sm font-semibold text-zinc-400 mb-3">Font Size</label>
                            <input type="range" min="10" max="20" x-model="fontSize" class="w-full accent-white">
                            <div class="flex justify-between mt-2">
                                <span class="text-xs text-zinc-600">10px</span>
                                <span class="text-xs text-white font-bold" x-text="fontSize + 'px'"></span>
                                <span class="text-xs text-zinc-600">20px</span>
                            </div>
                        </div>
                        <div>
                            <label class="block text-sm font-semibold text-zinc-400 mb-3">Tab Size</label>
                            <div class="flex gap-3">
                                <button @click="tabSize = 2" :class="tabSize === 2 ? 'btn-primary' : 'btn-secondary'">2 Spaces</button>
                                <button @click="tabSize = 4" :class="tabSize === 4 ? 'btn-primary' : 'btn-secondary'">4 Spaces</button>
                            </div>
                        </div>
                        <div class="flex items-center justify-between py-4 border-b-line">
                            <div>
                                <div class="text-sm font-semibold text-white">Minimap</div>
                                <div class="text-xs text-zinc-600 mt-1">Show code overview</div>
                            </div>
                            <button @click="minimap = !minimap" 
                                    :class="minimap ? 'bg-white' : 'bg-zinc-800'"
                                    class="relative w-14 h-7 rounded-full transition">
                                <div :class="minimap ? 'translate-x-7' : 'translate-x-0'" 
                                     class="w-7 h-7 bg-black rounded-full transition-transform absolute"></div>
                            </button>
                        </div>
                        <div class="flex items-center justify-between py-4 border-b-line">
                            <div>
                                <div class="text-sm font-semibold text-white">Auto Save</div>
                                <div class="text-xs text-zinc-600 mt-1">Save automatically on changes</div>
                            </div>
                            <button @click="autoSave = !autoSave" 
                                    :class="autoSave ? 'bg-white' : 'bg-zinc-800'"
                                    class="relative w-14 h-7 rounded-full transition">
                                <div :class="autoSave ? 'translate-x-7' : 'translate-x-0'" 
                                     class="w-7 h-7 bg-black rounded-full transition-transform absolute"></div>
                            </button>
                        </div>
                    </div>
                </div>
                <div x-show="activeSettingsTab === 'cloud'">
                    <h2 class="text-2xl font-bold text-white mb-8">Cloud Infrastructure</h2>
                    <div class="space-y-6">
                        <div>
                            <label class="block text-sm font-semibold text-zinc-400 mb-3">Primary Region</label>
                            <select class="input-minimal w-full">
                                <option>us-east-1 (N. Virginia)</option>
                                <option>us-west-2 (Oregon)</option>
                                <option>eu-west-1 (Ireland)</option>
                                <option>eu-central-1 (Frankfurt)</option>
                                <option>ap-southeast-1 (Singapore)</option>
                                <option>ap-northeast-1 (Tokyo)</option>
                            </select>
                        </div>
                        <div class="flex items-center justify-between py-4 border-b-line">
                            <div>
                                <div class="text-sm font-semibold text-white">Auto Deploy</div>
                                <div class="text-xs text-zinc-600 mt-1">Deploy on git push</div>
                            </div>
                            <button @click="autoDeploy = !autoDeploy" 
                                    :class="autoDeploy ? 'bg-white' : 'bg-zinc-800'"
                                    class="relative w-14 h-7 rounded-full transition">
                                <div :class="autoDeploy ? 'translate-x-7' : 'translate-x-0'" 
                                     class="w-7 h-7 bg-black rounded-full transition-transform absolute"></div>
                            </button>
                        </div>
                        <div class="flex items-center justify-between py-4 border-b-line">
                            <div>
                                <div class="text-sm font-semibold text-white">Edge Caching</div>
                                <div class="text-xs text-zinc-600 mt-1">Global CDN distribution</div>
                            </div>
                            <button class="btn-primary">ENABLED</button>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <div class="flex flex-col h-screen">
        
        <!-- Top Bar -->
        <nav class="h-12 border-b-line px-4 flex items-center justify-between bg-black shrink-0">
            <div class="flex items-center gap-6">
                <div class="flex items-center gap-2.5 cursor-pointer group">
                    <svg width="16" height="16" viewBox="0 0 76 65" fill="white"><path d="M37.5274 0L75.0548 65H0L37.5274 0Z"/></svg>
                    <span class="font-black text-xs tracking-tight text-white">KRIYA</span>
                </div>
                <div class="h-4 w-px bg-zinc-800"></div>
                <div class="flex gap-5">
                    <button @click="view = 'workspace'" :class="view === 'workspace' ? 'text-white' : 'text-zinc-600'" class="text-[11px] font-bold hover:text-white transition">Workspace</button>
                    <button @click="view = 'deploy'" :class="view === 'deploy' ? 'text-white' : 'text-zinc-600'" class="text-[11px] font-bold hover:text-white transition">Deployments</button>
                    <button @click="view = 'analytics'" :class="view === 'analytics' ? 'text-white' : 'text-zinc-600'" class="text-[11px] font-bold hover:text-white transition">Analytics</button>
                    <button @click="view = 'db'" :class="view === 'db' ? 'text-white' : 'text-zinc-600'" class="text-[11px] font-bold hover:text-white transition">Database</button>
                    <button @click="view = 'logs'" :class="view === 'logs' ? 'text-white' : 'text-zinc-600'" class="text-[11px] font-bold hover:text-white transition">Logs</button>
                    <button @click="view = 'monitoring'" :class="view === 'monitoring' ? 'text-white' : 'text-zinc-600'" class="text-[11px] font-bold hover:text-white transition">Monitoring</button>
                </div>
            </div>

            <div class="flex items-center gap-3">
                <div class="flex items-center bg-zinc-950 border-line rounded-lg p-0.5">
                    <button @click="collab = false" :class="!collab ? 'bg-zinc-800 text-white' : 'text-zinc-600'" class="px-3 py-1 text-[9px] font-black rounded-md transition">SOLO</button>
                    <button @click="collab = true" :class="collab ? 'bg-white text-black' : 'text-zinc-600'" class="px-3 py-1 text-[9px] font-black rounded-md transition flex items-center gap-2">
                        <i x-show="collab" class="ph ph-users-three"></i>
                        LIVE
                    </button>
                </div>

                <div class="flex items-center gap-2 px-3 py-1.5 rounded-lg bg-zinc-950 border-line">
                    <div class="status-indicator"></div>
                    <span class="text-[9px] font-black text-zinc-400">PRODUCTION</span>
                </div>

                <div class="flex items-center gap-2 px-3 py-1.5 rounded-lg bg-zinc-950 border-line">
                    <i class="ph-fill ph-check-circle text-white text-xs"></i>
                    <span class="text-[9px] font-black text-zinc-400">BUILD OK</span>
                </div>

                <button @click="deploy()" class="btn-primary flex items-center gap-2">
                    <i class="ph-fill ph-rocket-launch"></i>
                    DEPLOY
                </button>
            </div>
        </nav>

        <div class="flex flex-1 overflow-hidden">
            
            <!-- Icon Sidebar -->
            <aside class="w-12 border-r-line bg-black flex flex-col items-center py-4 gap-5 shrink-0">
                <i @click="sidebar = 'files'" :class="sidebar === 'files' ? 'icon-active' : 'text-zinc-700 hover:text-white'" class="ph-fill ph-files text-lg cursor-pointer transition"></i>
                <i @click="sidebar = 'search'" :class="sidebar === 'search' ? 'icon-active' : 'text-zinc-700 hover:text-white'" class="ph-fill ph-magnifying-glass text-lg cursor-pointer transition"></i>
                <i @click="sidebar = 'git'" :class="sidebar === 'git' ? 'icon-active' : 'text-zinc-700 hover:text-white'" class="ph-fill ph-git-branch text-lg cursor-pointer transition"></i>
                <i @click="sidebar = 'debug'" :class="sidebar === 'debug' ? 'icon-active' : 'text-zinc-700 hover:text-white'" class="ph-fill ph-bug text-lg cursor-pointer transition"></i>
                <i @click="aiModal = true" class="ph-fill ph-sparkle text-lg text-zinc-700 hover:text-white cursor-pointer transition"></i>
                <i @click="sidebar = 'extensions'" :class="sidebar === 'extensions' ? 'icon-active' : 'text-zinc-700 hover:text-white'" class="ph-fill ph-package text-lg cursor-pointer transition"></i>
                <i @click="sidebar = 'docker'" :class="sidebar === 'docker' ? 'icon-active' : 'text-zinc-700 hover:text-white'" class="ph-fill ph-container text-lg cursor-pointer transition"></i>
                <i @click="sidebar = 'database'" :class="sidebar === 'database' ? 'icon-active' : 'text-zinc-700 hover:text-white'" class="ph-fill ph-database text-lg cursor-pointer transition"></i>
                <i @click="sidebar = 'api'" :class="sidebar === 'api' ? 'icon-active' : 'text-zinc-700 hover:text-white'" class="ph-fill ph-plugs text-lg cursor-pointer transition"></i>
                
                <div class="mt-auto flex flex-col gap-5 items-center">
                    <i @click="settingsModal = true" class="ph-fill ph-gear-six text-lg text-zinc-700 hover:text-white cursor-pointer transition"></i>
                    <div class="w-7 h-7 rounded-lg bg-gradient-to-br from-zinc-700 to-white border-line cursor-pointer"></div>
                </div>
            </aside>

            <!-- Content Sidebar -->
            <aside x-show="sidebar" class="w-64 border-r-line bg-black shrink-0 flex flex-col overflow-hidden">
                
                <!-- Files -->
                <div x-show="sidebar === 'files'" class="flex flex-col h-full">
                    <div class="h-10 px-4 flex items-center justify-between shrink-0">
                        <span class="label">Files</span>
                        <div class="flex gap-2">
                            <i class="ph ph-file-plus text-zinc-600 hover:text-white cursor-pointer text-xs transition"></i>
                            <i class="ph ph-folder-plus text-zinc-600 hover:text-white cursor-pointer text-xs transition"></i>
                        </div>
                    </div>
                    <div class="flex-1 p-3 overflow-y-auto">
                        <div class="flex items-center gap-2 px-3 py-2 text-xs font-bold text-white bg-white/5 rounded-lg border-line mb-2">
                            <i class="ph-fill ph-caret-down text-[8px]"></i>
                            <i class="ph-fill ph-folder text-white"></i>
                            <span>kriya-app</span>
                        </div>
                        <div class="ml-4 border-l border-zinc-900 pl-3 space-y-0.5">
                            <template x-for="file in projectFiles">
                                <div @click="openFile(file)" 
                                     :class="activeFile === file.name ? 'text-white bg-white/10' : 'text-zinc-600 hover:text-white hover:bg-white/5'"
                                     class="flex items-center gap-2.5 px-3 py-2 text-[11px] rounded-lg cursor-pointer transition">
                                    <i :class="file.icon" class="text-sm"></i>
                                    <span class="flex-1" x-text="file.name"></span>
                                    <span x-show="file.modified" class="w-1.5 h-1.5 rounded-full bg-white"></span>
                                </div>
                            </template>
                        </div>
                    </div>
                </div>

                <!-- Search -->
                <div x-show="sidebar === 'search'" class="flex flex-col h-full">
                    <div class="h-10 px-4 flex items-center">
                        <span class="label">Search</span>
                    </div>
                    <div class="p-3 flex-1">
                        <input type="text" placeholder="Search files..." class="input-minimal w-full text-xs mb-4">
                        <div class="text-[10px] text-zinc-600">No results</div>
                    </div>
                </div>

                <!-- Git -->
                <div x-show="sidebar === 'git'" class="flex flex-col h-full">
                    <div class="h-10 px-4 flex items-center justify-between">
                        <span class="label">Source Control</span>
                        <i class="ph-fill ph-git-commit text-zinc-600 hover:text-white cursor-pointer transition"></i>
                    </div>
                    <div class="p-3 flex-1 space-y-4">
                        <textarea placeholder="Commit message..." class="input-minimal w-full text-xs resize-none h-20"></textarea>
                        <button class="btn-primary w-full">COMMIT & PUSH</button>
                        <div class="border-t-line pt-4">
                            <div class="label mb-3">Staged Changes (4)</div>
                            <div class="space-y-2">
                                <div class="flex items-center gap-2 text-[11px] px-2 py-1.5 rounded hover:bg-white/5 cursor-pointer">
                                    <span class="font-bold text-white w-4">M</span>
                                    <span class="text-zinc-400 flex-1">index.tsx</span>
                                </div>
                                <div class="flex items-center gap-2 text-[11px] px-2 py-1.5 rounded hover:bg-white/5 cursor-pointer">
                                    <span class="font-bold text-white w-4">A</span>
                                    <span class="text-zinc-400 flex-1">Button.tsx</span>
                                </div>
                                <div class="flex items-center gap-2 text-[11px] px-2 py-1.5 rounded hover:bg-white/5 cursor-pointer">
                                    <span class="font-bold text-white w-4">M</span>
                                    <span class="text-zinc-400 flex-1">styles.css</span>
                                </div>
                                <div class="flex items-center gap-2 text-[11px] px-2 py-1.5 rounded hover:bg-white/5 cursor-pointer">
                                    <span class="font-bold text-white w-4">D</span>
                                    <span class="text-zinc-400 flex-1">legacy.js</span>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- Debug -->
                <div x-show="sidebar === 'debug'" class="flex flex-col h-full">
                    <div class="h-10 px-4 flex items-center justify-between">
                        <span class="label">Debug & Run</span>
                        <i class="ph-fill ph-play text-white hover:text-zinc-400 cursor-pointer transition"></i>
                    </div>
                    <div class="p-3 flex-1 space-y-4">
                        <select class="input-minimal w-full text-xs">
                            <option>Node.js: Launch Program</option>
                            <option>Chrome: Launch</option>
                            <option>Python: Current File</option>
                            <option>Go: Launch Package</option>
                        </select>
                        <div class="metric-card p-4 rounded-lg">
                            <div class="label mb-3">Breakpoints (2)</div>
                            <div class="space-y-2">
                                <div class="text-xs text-zinc-400">index.tsx:42</div>
                                <div class="text-xs text-zinc-400">api/users.ts:128</div>
                            </div>
                        </div>
                        <div class="metric-card p-4 rounded-lg">
                            <div class="label mb-2">Call Stack</div>
                            <div class="text-[10px] text-zinc-600 mono">Empty</div>
                        </div>
                    </div>
                </div>

                               <!-- Docker -->
                <div x-show="sidebar === 'docker'" class="flex flex-col h-full">
                    <div class="h-10 px-4 flex items-center justify-between">
                        <span class="label">Docker</span>
                        <i class="ph-fill ph-play text-white hover:text-zinc-400 cursor-pointer transition"></i>
                    </div>
                    <div class="p-3 flex-1 space-y-4">
                        <div class="metric-card p-4 rounded-lg">
                            <div class="label mb-3">Containers (3)</div>
                            <div class="space-y-2">
                                <div class="flex items-center justify-between text-[11px]">
                                    <span class="text-white">kriya-api</span>
                                    <span class="text-green-400 mono">RUNNING</span>
                                </div>
                                <div class="flex items-center justify-between text-[11px]">
                                    <span class="text-white">postgres-db</span>
                                    <span class="text-green-400 mono">RUNNING</span>
                                </div>
                                <div class="flex items-center justify-between text-[11px]">
                                    <span class="text-white">redis-cache</span>
                                    <span class="text-green-400 mono">RUNNING</span>
                                </div>
                            </div>
                        </div>
                        <div class="metric-card p-4 rounded-lg">
                            <div class="label mb-2">Images</div>
                            <div class="text-xs text-zinc-400">kriya-app:latest</div>
                            <div class="text-xs text-zinc-400">node:18-alpine</div>
                        </div>
                        <button class="btn-secondary w-full">DOCKER COMPOSE UP</button>
                    </div>
                </div>

                <!-- Database -->
                <div x-show="sidebar === 'database'" class="flex flex-col h-full">
                    <div class="h-10 px-4 flex items-center">
                        <span class="label">Database</span>
                    </div>
                    <div class="p-3 flex-1 space-y-4">
                        <div class="metric-card p-4 rounded-lg">
                            <div class="label mb-3">Tables</div>
                            <div class="space-y-2">
                                <div class="text-[11px] text-zinc-400 hover:text-white cursor-pointer">users</div>
                                <div class="text-[11px] text-zinc-400 hover:text-white cursor-pointer">sessions</div>
                                <div class="text-[11px] text-zinc-400 hover:text-white cursor-pointer">products</div>
                                <div class="text-[11px] text-zinc-400 hover:text-white cursor-pointer">orders</div>
                            </div>
                        </div>
                        <div class="metric-card p-4 rounded-lg">
                            <div class="label mb-2">Query Editor</div>
                            <textarea placeholder="SELECT * FROM users..." class="input-minimal w-full text-xs resize-none h-24"></textarea>
                            <button class="btn-primary w-full mt-2">EXECUTE</button>
                        </div>
                    </div>
                </div>

                <!-- API -->
                <div x-show="sidebar === 'api'" class="flex flex-col h-full">
                    <div class="h-10 px-4 flex items-center">
                        <span class="label">API Testing</span>
                    </div>
                    <div class="p-3 flex-1 space-y-4">
                        <select class="input-minimal w-full text-xs">
                            <option>GET /api/users</option>
                            <option>POST /api/users</option>
                            <option>PUT /api/users/:id</option>
                            <option>DELETE /api/users/:id</option>
                        </select>
                        <div class="metric-card p-4 rounded-lg">
                            <div class="label mb-2">Response</div>
                            <div class="text-[10px] text-zinc-600 mono">200 OK</div>
                            <pre class="text-[10px] text-zinc-400 mt-2 overflow-auto max-h-32">{
  "users": [],
  "count": 0
}</pre>
                        </div>
                        <button class="btn-primary w-full">SEND REQUEST</button>
                    </div>
                </div>

            </aside>

            <!-- Main Editor Area -->
            <main class="flex-1 flex flex-col overflow-hidden bg-zinc-950">
                
                <!-- Editor Tabs -->
                <div class="h-10 border-b-line flex items-center shrink-0">
                    <div class="flex gap-1 px-4">
                        <template x-for="(tab, idx) in editorTabs" :key="idx">
                            <div @click="activeTab = idx" 
                                 :class="activeTab === idx ? 'tab-active' : 'text-zinc-600 hover:text-white'"
                                 class="flex items-center gap-2 px-4 py-2 text-xs font-bold rounded-t-lg cursor-pointer transition">
                                <i :class="tab.icon" class="text-sm"></i>
                                <span x-text="tab.name"></span>
                                <i @click.stop="closeTab(idx)" class="ph ph-x text-[10px] hover:text-white"></i>
                            </div>
                        </template>
                    </div>
                    <div class="ml-auto px-4">
                        <div class="text-[10px] text-zinc-600 mono">UTF-8 • TypeScript • Ln 42, Col 18</div>
                    </div>
                </div>

                <!-- Monaco Editor Container -->
                <div id="editor-container" class="flex-1"></div>

                <!-- Status Bar -->
                <div class="h-6 border-t-line px-4 flex items-center justify-between text-[10px] mono bg-black shrink-0">
                    <div class="flex items-center gap-4">
                        <div class="flex items-center gap-1">
                            <i class="ph ph-git-branch"></i>
                            <span>main</span>
                        </div>
                        <div class="flex items-center gap-1">
                            <i class="ph ph-check-circle"></i>
                            <span>No errors</span>
                        </div>
                        <div class="flex items-center gap-1">
                            <i class="ph ph-warning-circle"></i>
                            <span>0 warnings</span>
                        </div>
                    </div>
                    <div class="flex items-center gap-4">
                        <div class="flex items-center gap-1">
                            <i class="ph ph-cpu"></i>
                            <span>CPU: 12%</span>
                        </div>
                        <div class="flex items-center gap-1">
                            <i class="ph ph-cloud"></i>
                            <span>Memory: 1.2GB</span>
                        </div>
                        <div @click="commandPalette = true" class="flex items-center gap-1 cursor-pointer hover:text-white">
                            <i class="ph ph-terminal-window"></i>
                            <span>Press ⌘K for commands</span>
                        </div>
                    </div>
                </div>
            </main>

        </div>
    </div>

    <script>
        function kriyaIDE() {
            return {
                // State
                view: 'workspace',
                sidebar: 'files',
                activeTab: 0,
                activeFile: 'index.tsx',
                commandPalette: false,
                aiModal: false,
                settingsModal: false,
                activeSettingsTab: 'editor',
                searchQuery: '',
                collab: false,
                
                // Configuration
                fontSize: 14,
                tabSize: 2,
                minimap: true,
                autoSave: true,
                autoDeploy: false,
                
                // Data
                projectFiles: [
                    { name: 'index.tsx', icon: 'ph-fill ph-file-js', modified: true },
                    { name: 'styles.css', icon: 'ph-fill ph-file-css', modified: true },
                    { name: 'package.json', icon: 'ph-fill ph-file-text', modified: false },
                    { name: 'components/Button.tsx', icon: 'ph-fill ph-file-js', modified: false },
                    { name: 'utils/api.ts', icon: 'ph-fill ph-file-js', modified: false },
                    { name: 'docker-compose.yml', icon: 'ph-fill ph-file-yaml', modified: false },
                    { name: '.env.example', icon: 'ph-fill ph-file-dashed', modified: false },
                ],
                
                editorTabs: [
                    { name: 'index.tsx', icon: 'ph-fill ph-file-js' },
                    { name: 'styles.css', icon: 'ph-fill ph-file-css' },
                    { name: 'package.json', icon: 'ph-fill ph-file-text' },
                ],
                
                commandSections: [
                    {
                        title: 'General',
                        commands: [
                            { id: 1, icon: 'ph ph-terminal-window', label: 'Open Terminal', desc: 'Open integrated terminal', key: '⌃`' },
                            { id: 2, icon: 'ph ph-search', label: 'Search Files', desc: 'Search across project files', key: '⌘P' },
                            { id: 3, icon: 'ph ph-gear-six', label: 'Settings', desc: 'Open settings menu' },
                            { id: 4, icon: 'ph ph-sparkle', label: 'AI Assistant', desc: 'Open AI code assistant' },
                        ]
                    },
                    {
                        title: 'Editor',
                        commands: [
                            { id: 5, icon: 'ph ph-file', label: 'New File', desc: 'Create a new file', key: '⌘N' },
                            { id: 6, icon: 'ph ph-folders', label: 'New Folder', desc: 'Create a new folder' },
                            { id: 7, icon: 'ph ph-arrows-clockwise', label: 'Format Document', desc: 'Format current file', key: '⇧⌥F' },
                            { id: 8, icon: 'ph ph-bug', label: 'Toggle Breakpoint', desc: 'Toggle debug breakpoint', key: 'F9' },
                        ]
                    },
                    {
                        title: 'Cloud',
                        commands: [
                            { id: 9, icon: 'ph ph-rocket-launch', label: 'Deploy', desc: 'Deploy to production', key: '⌘⇧D' },
                            { id: 10, icon: 'ph ph-cloud-arrow-down', label: 'Pull Logs', desc: 'Fetch recent logs' },
                            { id: 11, icon: 'ph ph-git-branch', label: 'Git Commit', desc: 'Commit all changes', key: '⌘⇧C' },
                            { id: 12, icon: 'ph ph-database', label: 'Database Console', desc: 'Open database query tool' },
                        ]
                    }
                ],
                
                aiQuickActions: [
                    { name: 'Refactor Function', icon: 'ph ph-arrows-clockwise', description: 'Optimize selected code for performance' },
                    { name: 'Generate Tests', icon: 'ph ph-test-tube', description: 'Create unit tests for current file' },
                    { name: 'Explain Code', icon: 'ph ph-question', description: 'Get explanation of selected code' },
                    { name: 'Fix Bugs', icon: 'ph ph-bug', description: 'Identify and fix potential bugs' },
                    { name: 'Document Code', icon: 'ph ph-note-pencil', description: 'Add documentation comments' },
                ],
                
                settingsTabs: [
                    { id: 'editor', label: 'Editor', icon: 'ph ph-code' },
                    { id: 'cloud', label: 'Cloud', icon: 'ph ph-cloud' },
                    { id: 'terminal', label: 'Terminal', icon: 'ph ph-terminal-window' },
                    { id: 'git', label: 'Git', icon: 'ph ph-git-branch' },
                    { id: 'ai', label: 'AI', icon: 'ph ph-sparkle' },
                    { id: 'extensions', label: 'Extensions', icon: 'ph ph-package' },
                ],
                
                // Methods
                openFile(file) {
                    this.activeFile = file.name;
                    // In a real implementation, this would load the file content into the editor
                    console.log('Opening file:', file.name);
                },
                
                closeTab(idx) {
                    this.editorTabs.splice(idx, 1);
                    if (this.activeTab >= this.editorTabs.length) {
                        this.activeTab = Math.max(0, this.editorTabs.length - 1);
                    }
                },
                
                executeCommand(cmd) {
                    this.commandPalette = false;
                    console.log('Executing command:', cmd.label);
                    // Implement command execution logic
                },
                
                runAIAction(action) {
                    this.aiModal = false;
                    console.log('Running AI action:', action.name);
                },
                
                deploy() {
                    console.log('Deploying to production...');
                    // Implement deployment logic
                },
                
                // Initialize Monaco Editor
                initEditor() {
                    require.config({ paths: { 'vs': 'https://cdnjs.cloudflare.com/ajax/libs/monaco-editor/0.44.0/min/vs' } });
                    
                    require(['vs/editor/editor.main'], () => {
                        const editor = monaco.editor.create(document.getElementById('editor-container'), {
                            value: `import React from 'react';
import { useQuery } from '@tanstack/react-query';
import { Card, Button } from '@/components';

export default function Dashboard() {
  const { data: users, isLoading } = useQuery({
    queryKey: ['users'],
    queryFn: () => fetch('/api/users').then(res => res.json()),
  });

  if (isLoading) return <div>Loading...</div>;

  return (
    <div className="p-8">
      <header className="mb-8">
        <h1 className="text-3xl font-bold">User Dashboard</h1>
        <p className="text-zinc-600">Manage your team members and permissions</p>
      </header>
      
      <div className="grid grid-cols-3 gap-6">
        {users?.map(user => (
          <Card key={user.id} className="p-6">
            <h3 className="font-semibold text-lg">{user.name}</h3>
            <p className="text-sm text-zinc-500">{user.email}</p>
            <Button className="mt-4">View Profile</Button>
          </Card>
        ))}
      </div>
    </div>
  );
}`,
                            language: 'typescript',
                            theme: 'vs-dark',
                            fontSize: this.fontSize,
                            tabSize: this.tabSize,
                            minimap: { enabled: this.minimap },
                            scrollBeyondLastLine: false,
                            lineNumbers: 'on',
                            roundedSelection: false,
                            scrollbar: {
                                vertical: 'visible',
                                horizontal: 'visible',
                                useShadows: false
                            },
                            automaticLayout: true,
                            wordWrap: 'on',
                            wrappingIndent: 'indent',
                        });
                        
                        // Store editor instance for later use
                        this.editor = editor;
                    });
                }
            };
        }
        
        // Initialize when page loads
        document.addEventListener('alpine:init', () => {
            Alpine.data('kriyaIDE', kriyaIDE);
            
            // Initialize editor after Alpine is ready
            setTimeout(() => {
                const app = Alpine.$data(document.querySelector('[x-data]'));
                app.initEditor();
            }, 100);
        });
    </script>
</body>
</html>